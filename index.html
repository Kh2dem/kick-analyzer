<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <title>تحليل قناة Kick</title>
  <style>
    body { font-family: Tahoma, sans-serif; background: #111; color: #eee; text-align: center; padding: 30px; }
    input, button { padding: 10px; font-size: 18px; margin: 10px; }
    .result { margin-top: 20px; font-size: 20px; color: #0f0; }
  </style>
</head>
<body>
  <h2>تحليل بث من منصة Kick 🎥</h2>
  <input type="text" id="username" placeholder="ادخل اسم القناة">
  <button onclick="getKickInfo()">تحليل</button>
  <div id="result" class="result"></div>
  <script>
    async function getKickInfo(){
      const u = document.getElementById("username").value;
      const r = document.getElementById("result");
      if (!u) { r.innerHTML = "⚠️ أدخل اسم القناة"; return; }
      try {
        const res = await fetch(`https://kick.com/api/v2/channels/${u}`);
        if (!res.ok) { r.innerHTML = "❌ فشل جلب البيانات"; return; }
        const d = await res.json(), L = d.livestream, C = d.chatroom;
        r.innerHTML = `📺 القناة: <strong>${d.slug}</strong><br>🎥 مباشر: <strong>${L ? 'نعم' : 'لا'}</strong><br>` +
          (L ? `👥 المشاهدين الآن: <strong>${L.viewer_count ?? 'غير متوفر'}</strong><br>` : '') +
          `💬 رسائل الشات: <strong>${C?.message_count ?? 'غير متوفر'}</strong>`;
      } catch(e){
        r.innerHTML = "❌ خطأ أثناء التحليل";
      }
    }
  </script>
</body>
</html>
